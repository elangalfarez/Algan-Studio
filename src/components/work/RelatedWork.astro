---
// src/components/work/RelatedWork.astro
// Created: Related case studies section

import SectionHeader from '../ui/SectionHeader.astro';
import CaseStudyCard from './CaseStudyCard.astro';
import { getRelatedCaseStudies } from '../../lib/case-studies-data';

interface Props {
  currentId: string;
}

const { currentId } = Astro.props;

const relatedCaseStudies = getRelatedCaseStudies(currentId).slice(0, 3);
---

{relatedCaseStudies.length > 0 && (
  <section class="section bg-[color:var(--color-bg-secondary)]">
    <div class="container">
      <SectionHeader
        eyebrow="More Work"
        title="Related Projects"
        description="Explore more case studies in similar areas."
        titleAs="h2"
      />

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
        {relatedCaseStudies.map((caseStudy, index) => (
          <div data-animate="fade-up" data-delay={String(index * 0.1)}>
            <CaseStudyCard
              id={caseStudy.id}
              title={caseStudy.title}
              client={caseStudy.client}
              category={caseStudy.category}
              tags={caseStudy.tags}
              excerpt={caseStudy.excerpt}
              thumbnail={caseStudy.images.thumbnail}
              metrics={caseStudy.metrics.slice(0, 2)}
            />
          </div>
        ))}
      </div>
    </div>
  </section>
)}