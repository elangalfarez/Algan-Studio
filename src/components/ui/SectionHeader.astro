---
// src/components/ui/SectionHeader.astro
// Created: Consistent section headers with eyebrow, title, description, and optional CTA

interface Props {
  eyebrow?: string;
  title: string;
  description?: string;
  align?: 'left' | 'center' | 'right';
  size?: 'sm' | 'md' | 'lg';
  titleAs?: 'h1' | 'h2' | 'h3';
  dark?: boolean;
  animate?: boolean;
  class?: string;
}

const {
  eyebrow,
  title,
  description,
  align = 'center',
  size = 'md',
  titleAs = 'h2',
  dark = false,
  animate = true,
  class: className,
} = Astro.props;

const TitleTag = titleAs;

// Alignment styles
const alignStyles = {
  left: 'text-left',
  center: 'text-center mx-auto',
  right: 'text-right ml-auto',
};

// Size styles
const sizeStyles = {
  sm: {
    wrapper: 'max-w-xl',
    eyebrow: 'text-xs',
    title: 'text-2xl md:text-3xl',
    description: 'text-sm mt-3',
  },
  md: {
    wrapper: 'max-w-2xl',
    eyebrow: 'text-sm',
    title: 'text-3xl md:text-4xl lg:text-5xl',
    description: 'text-base md:text-lg mt-4',
  },
  lg: {
    wrapper: 'max-w-3xl',
    eyebrow: 'text-sm',
    title: 'text-4xl md:text-5xl lg:text-6xl',
    description: 'text-lg md:text-xl mt-5',
  },
};

// Color styles
const colorStyles = {
  eyebrow: dark 
    ? 'text-[color:var(--color-accent-light)]' 
    : 'text-[color:var(--color-accent)]',
  title: dark 
    ? 'text-[color:var(--color-text-inverse)]' 
    : 'text-[color:var(--color-text-primary)]',
  description: dark 
    ? 'text-[color:var(--color-text-inverse)]/70' 
    : 'text-[color:var(--color-text-tertiary)]',
};

const hasSlot = Astro.slots.has('default');
---

<header
  class:list={[
    'section-header',
    alignStyles[align],
    sizeStyles[size].wrapper,
    className,
  ]}
  data-animate={animate ? 'fade-up' : undefined}
>
  {eyebrow && (
    <span
      class:list={[
        'inline-block font-semibold uppercase tracking-wider mb-3',
        sizeStyles[size].eyebrow,
        colorStyles.eyebrow,
      ]}
    >
      {eyebrow}
    </span>
  )}

  <TitleTag
    class:list={[
      'font-bold leading-tight tracking-tight',
      sizeStyles[size].title,
      colorStyles.title,
    ]}
  >
    {title}
  </TitleTag>

  {description && (
    <p
      class:list={[
        'leading-relaxed',
        sizeStyles[size].description,
        colorStyles.description,
      ]}
    >
      {description}
    </p>
  )}

  {hasSlot && (
    <div class="mt-6 md:mt-8">
      <slot />
    </div>
  )}
</header>